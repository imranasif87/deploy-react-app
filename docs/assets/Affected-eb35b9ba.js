import{g as te,h as se,s as M,t as oe,l as u,a as i,_ as W,v as ae,j as e,m as V,w as D,o as G,c as J,x as re,z as ie,k as ne,D as X,E as ce,T as $,F as de,C as le,B as q,L as Y,e as pe,n as ue,P as he,G as me,H as fe}from"./index-bb811758.js";import{M as xe}from"./Modal-f29f3020.js";/* empty css                     */import{G as B}from"./Grid-66cdcbba.js";import{S as Z}from"./Stack-3358c896.js";import{A as ee}from"./Alert-e5bc2dbf.js";import{I as O}from"./Input-7ae70adb.js";import{L as ye,a as ge}from"./ListItem-ac6be80d.js";import{u as be}from"./InputBase-2c8f6ab4.js";function ke(t){return te("PrivateSwitchBase",t)}se("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ce=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],je=t=>{const{classes:s,checked:a,disabled:n,edge:c}=t,d={root:["root",a&&"checked",n&&"disabled",c&&`edge${D(c)}`],input:["input"]};return G(d,ke,s)},Ie=M(oe)(({ownerState:t})=>u({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),ve=M("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),we=i.forwardRef(function(s,a){const{autoFocus:n,checked:c,checkedIcon:d,className:x,defaultChecked:S,disabled:k,disableFocusRipple:h=!1,edge:C=!1,icon:j,id:I,inputProps:w,inputRef:f,name:m,onBlur:b,onChange:y,onFocus:L,readOnly:_,required:A=!1,tabIndex:H,type:N,value:E}=s,T=W(s,Ce),[R,z]=ae({controlled:c,default:!!S,name:"SwitchBase",state:"checked"}),o=be(),g=v=>{L&&L(v),o&&o.onFocus&&o.onFocus(v)},p=v=>{b&&b(v),o&&o.onBlur&&o.onBlur(v)},r=v=>{if(v.nativeEvent.defaultPrevented)return;const Q=v.target.checked;z(Q),y&&y(v,Q)};let l=k;o&&typeof l>"u"&&(l=o.disabled);const F=N==="checkbox"||N==="radio",P=u({},s,{checked:R,disabled:l,disableFocusRipple:h,edge:C}),K=je(P);return e.jsxs(Ie,u({component:"span",className:V(K.root,x),centerRipple:!0,focusRipple:!h,disabled:l,tabIndex:null,role:void 0,onFocus:g,onBlur:p,ownerState:P,ref:a},T,{children:[e.jsx(ve,u({autoFocus:n,checked:c,defaultChecked:S,className:K.input,disabled:l,id:F?I:void 0,name:m,onChange:r,readOnly:_,ref:f,required:A,ownerState:P,tabIndex:H,type:N},N==="checkbox"&&E===void 0?{}:{value:E},w)),R?d:j]}))}),Ne=we,Pe=J(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Be=J(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Se=J(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Le(t){return te("MuiCheckbox",t)}const $e=se("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),U=$e,Te=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Fe=t=>{const{classes:s,indeterminate:a,color:n}=t,c={root:["root",a&&"indeterminate",`color${D(n)}`]},d=G(c,Le,s);return u({},s,d)},Re=M(Ne,{shouldForwardProp:t=>re(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.indeterminate&&s.indeterminate,a.color!=="default"&&s[`color${D(a.color)}`]]}})(({theme:t,ownerState:s})=>u({color:(t.vars||t).palette.text.secondary},!s.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${s.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ie(s.color==="default"?t.palette.action.active:t.palette[s.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},s.color!=="default"&&{[`&.${U.checked}, &.${U.indeterminate}`]:{color:(t.vars||t).palette[s.color].main},[`&.${U.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),ze=e.jsx(Be,{}),Ae=e.jsx(Pe,{}),Ee=e.jsx(Se,{}),Oe=i.forwardRef(function(s,a){var n,c;const d=ne({props:s,name:"MuiCheckbox"}),{checkedIcon:x=ze,color:S="primary",icon:k=Ae,indeterminate:h=!1,indeterminateIcon:C=Ee,inputProps:j,size:I="medium",className:w}=d,f=W(d,Te),m=h?C:k,b=h?C:x,y=u({},d,{color:S,indeterminate:h,size:I}),L=Fe(y);return e.jsx(Re,u({type:"checkbox",inputProps:u({"data-indeterminate":h},j),icon:i.cloneElement(m,{fontSize:(n=m.props.fontSize)!=null?n:I}),checkedIcon:i.cloneElement(b,{fontSize:(c=b.props.fontSize)!=null?c:I}),ownerState:y,ref:a,className:V(L.root,w)},f,{classes:L}))}),Me=Oe,_e=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],He=t=>{const{classes:s,inset:a,primary:n,secondary:c,dense:d}=t;return G({root:["root",a&&"inset",d&&"dense",n&&c&&"multiline"],primary:["primary"],secondary:["secondary"]},de,s)},qe=M("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[{[`& .${X.primary}`]:s.primary},{[`& .${X.secondary}`]:s.secondary},s.root,a.inset&&s.inset,a.primary&&a.secondary&&s.multiline,a.dense&&s.dense]}})(({ownerState:t})=>u({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Ue=i.forwardRef(function(s,a){const n=ne({props:s,name:"MuiListItemText"}),{children:c,className:d,disableTypography:x=!1,inset:S=!1,primary:k,primaryTypographyProps:h,secondary:C,secondaryTypographyProps:j}=n,I=W(n,_e),{dense:w}=i.useContext(ce);let f=k??c,m=C;const b=u({},n,{disableTypography:x,inset:S,primary:!!f,secondary:!!m,dense:w}),y=He(b);return f!=null&&f.type!==$&&!x&&(f=e.jsx($,u({variant:w?"body2":"body1",className:y.primary,component:h!=null&&h.variant?void 0:"span",display:"block"},h,{children:f}))),m!=null&&m.type!==$&&!x&&(m=e.jsx($,u({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},j,{children:m}))),e.jsxs(qe,u({className:V(y.root,d),ownerState:b,ref:a},I,{children:[f,m]}))}),We=Ue,et=t=>{const[s,a]=i.useState(localStorage.getItem("language")||"no"),n=s==="en"?pe.affected:ue.affected,c=o=>{a(o),localStorage.setItem("language",o)},[d,x]=i.useState([]),[S,k]=i.useState();i.useState(!1);const[h,C]=i.useState(!1),[j,I]=i.useState([]),[w,f]=i.useState([]),[m,b]=i.useState([]),[y,L]=i.useState([]),[_,A]=i.useState(!1),[H,N]=i.useState(!1);i.useEffect(()=>{(async()=>{const p=await(await fetch("https://wideroeemergencynextofkinapi.azure-api.net/WideroeEmergency/api/Affected")).json();x(p),f(p),L(p),b(p)})()},[]);const E=o=>async()=>{const g=j.indexOf(o),p=[...j];g===-1?p.push(o):p.splice(g,1),I(p);const r=d.findIndex(P=>P.id===o),l=d[r];let F;l.processed===0?(F=1,N(!0)):l.processed===2?(F=1,A(!0)):N(!0),window.confirm(`Er du sikker på at du vil gjøre endringer for ${l.person.firstName} ${l.person.lastName}?`)&&(await fetch(`https://wideroeemergencynextofkinapi.azure-api.net/WideroeEmergency/api/Affected/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,processed:F})}),x(P=>[...P.slice(0,r),{...l,processed:F},...P.slice(r+1)]),setTimeout(()=>{window.location.reload()},5e3))},T=o=>{const{name:g,value:p}=o.target;k(r=>({...r,person:{...r.person,[g]:p}}))},R=async()=>{const o=await fetch("https://wideroeemergencynextofkinapi.azure-api.net/WideroeEmergency/api/Affected").then(g=>g.json());k(o),C(!0),console.log(JSON.stringify(o))},z=(o,g,p)=>e.jsx(he,{sx:{width:"100%",height:"250px",backgroundColor:g,overflow:"auto"},children:e.jsx(me,{dense:!0,component:"div",role:"list",children:o.filter(r=>r.processed===p).map(r=>{const l=`transfer-list-item-${r.id}-label`;return e.jsxs(ye,{role:"listitem",button:!0,onClick:E(r.id),children:[e.jsx(ge,{children:e.jsx(fe,{children:e.jsx(Me,{checked:j.indexOf(r.id)!==-1,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":l}})})}),e.jsx(Y,{to:`/AffectedInformation/${r.id}`,children:e.jsx(We,{id:l,primary:`${r.person.firstName} ${r.person.lastName}`,style:{paddingLeft:"10px"}})})]},r.id)})})});return e.jsx(e.Fragment,{children:e.jsxs(le,{navHeader:n.title,onLanguageChange:c,children:[e.jsx(q,{className:"add-crew",onClick:()=>R(),variant:"contained",style:{position:"absolute",top:"17%",right:"2%",width:"250px",height:"54px",margin:2,backgroundColor:"#369E3B"},sx:{":hover":{backgroundColor:"#369E3B"},margin:1},children:n.addAffected}),e.jsxs(B,{container:!0,justifyContent:"center",spacing:2,children:[_&&e.jsx(B,{item:!0,xs:10,md:10,children:e.jsx(Z,{sx:{width:"85%",position:"centered",marginTop:"2%"},children:e.jsx(ee,{severity:"success",onClose:()=>A(!1),children:"Du har flyttet pårørende til under behandling"})})}),H&&e.jsx(B,{item:!0,xs:10,md:10,children:e.jsx(Z,{sx:{width:"85%",position:"centered",marginTop:"2%"},children:e.jsx(ee,{severity:"success",onClose:()=>N(!1),children:"Du har flyttet pårørende til fullført behandling"})})}),e.jsx(B,{item:!0,xs:10,md:10,children:e.jsxs(B,{container:!0,justifyContent:"center",alignItems:"center",textAlign:"center",sx:{height:"50% !important",display:"flex",flexWrap:"wrap",alignItems:"baseline",marginTop:"8%","& > *":{flexBasis:"33% !important"}},children:[e.jsxs(B,{item:!0,xs:12,sm:12,children:[e.jsx($,{variant:"h6",children:n.unprocessed}),z(w,"mistyrose",0)]}),e.jsxs(B,{item:!0,xs:12,sm:12,children:[e.jsx($,{variant:"h6",children:n.processing}),z(y,"ivory",1)]}),e.jsxs(B,{item:!0,xs:12,sm:12,children:[e.jsx($,{variant:"h6",children:n.processed}),z(m,"Honeydew",2)]})]})})]}),e.jsxs(xe,{isOpen:h,modalHeadLine:n.addAffected,children:[e.jsx("h2",{}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"soul-firstName",children:n.firstName}),e.jsx("br",{}),e.jsx(O,{className:"input-form",id:"soul-firstName",name:"soul-firstName",type:"text",placeholder:"",onChange:T,inputProps:{pattern:"^([p{L}p{P}d+](s)?){2,31}$",required:!0},style:{width:"450px"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"soul-firstName",children:n.lastName}),e.jsx("br",{}),e.jsx(O,{className:"input-form",id:"soul-firstName",name:"soul-firstName",type:"text",placeholder:"",onChange:T,inputProps:{pattern:"^([p{L}p{P}d+](s)?){2,31}$",required:!0},style:{width:"450px"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"soul-firstName",children:n.email}),e.jsx("br",{}),e.jsx(O,{className:"input-form",id:"soul-firstName",name:"soul-firstName",type:"text",placeholder:"",onChange:T,inputProps:{pattern:"^([p{L}p{P}d+](s)?){2,31}$",required:!0},style:{width:"450px"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"soul-firstName",children:n.phone}),e.jsx("br",{}),e.jsx(O,{className:"input-form",id:"soul-firstName",name:"soul-firstName",type:"text",placeholder:"",onChange:T,inputProps:{pattern:"^([p{L}p{P}d+](s)?){2,31}$",required:!0},style:{width:"450px"},required:!0})]})]}),e.jsxs("div",{className:"btn-container",children:[e.jsx(q,{className:"change-btn",type:"button",variant:"contained",style:{backgroundColor:"#369E3B",width:"230px",height:"40px"},onClick:R,children:n.addAffected}),e.jsx(q,{className:"back-btn",type:"submit",form:"ic-form__affected",variant:"contained",style:{backgroundColor:"#369E3B",width:"230px",height:"40px"},onClick:()=>C(!1),children:n.back})]})]}),e.jsx("div",{className:"backBtn",children:e.jsx(Y,{to:"/",children:n.back})})]})})};export{et as default};
