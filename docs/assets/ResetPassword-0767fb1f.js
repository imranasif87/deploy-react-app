import{g as $,h as U,s as W,T as q,a as i,k as L,_ as z,j as s,l as O,m as Z,o as G,R as x,I as C,B as H,u as J,q as K}from"./index-48719fb3.js";/* empty css              */import{d as v,a as y}from"./VisibilityOff-d6834b26.js";import{F as b,O as S}from"./OutlinedInput-9006a96c.js";import{I as _}from"./InputAdornment-8309b230.js";import{A as Q}from"./Alert-7f0334cb.js";import"./InputBase-fa14cdb4.js";function V(o){return $("MuiAlertTitle",o)}U("MuiAlertTitle",["root"]);const X=["className"],Y=o=>{const{classes:t}=o;return G({root:["root"]},V,t)},ss=W(q,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(o,t)=>t.root})(({theme:o})=>({fontWeight:o.typography.fontWeightMedium,marginTop:-2})),es=i.forwardRef(function(t,r){const a=L({props:t,name:"MuiAlertTitle"}),{className:u}=a,d=z(a,X),c=a,m=Y(c);return s.jsx(ss,O({gutterBottom:!0,component:"div",ownerState:c,ref:r,className:Z(m.root,u)},d))}),os=es,ts=o=>{const{formData:t,onPasswordChange:r,onSubmit:a}=o,{Person:u,IsAdmin:d,Role:c,Password:m}=t,[h,p]=i.useState(""),[n,l]=i.useState(!1),[w,T]=x.useState(!1),[g,N]=x.useState(!1),[f,k]=i.useState(""),[P,D]=i.useState(""),M=()=>T(e=>!e),R=()=>N(e=>!e),j=e=>{e.preventDefault()},F=e=>{D(e.target.value),r(e)},B=e=>{p(e.target.value)},E=m===h,I=e=>{e.preventDefault(),P===h?(l(!0),o.navigate("/login")):k("Passwords do not match."),a(e)};return s.jsxs("div",{className:"login-form",children:[s.jsx("div",{children:s.jsx("h1",{children:"Nytt passord"})}),s.jsxs("form",{className:"form__resetPassword",onSubmit:I,children:[s.jsxs("div",{className:"form__resetPassword__column",children:[s.jsx("label",{htmlFor:"Password",children:"Nytt passord"}),s.jsx("br",{}),s.jsx(b,{variant:"outlined",sx:{width:"300px"},children:s.jsx(S,{id:"Password",name:"Password",type:w?"text":"password",value:P,placeholder:"Nytt passord",size:"small",style:{width:"300px",backgroundColor:"white"},onChange:F,inputProps:{pattern:"^(?=.*\\d{2,})(?=.*[A-Z]).{2,31}$",maxLength:31,required:!0},endAdornment:s.jsx(_,{position:"end",children:s.jsx(C,{"aria-label":"toggle password visibility",onClick:M,onMouseDown:j,edge:"end",children:w?s.jsx(v,{}):s.jsx(y,{})})})})}),s.jsx("div",{}),s.jsxs("div",{className:"form__resetPassword__column",children:[s.jsx("label",{htmlFor:"ConfirmPassword",children:"Bekreft passord"}),s.jsx("br",{}),s.jsx(b,{variant:"outlined",sx:{width:"300px"},children:s.jsx(S,{style:{width:"300px",backgroundColor:"white"},className:"input-password",id:"ConfirmPassword",name:"ConfirmPassword",type:g?"text":"password",placeholder:"Bekreft passord",size:"small",value:h,onChange:B,inputProps:{pattern:"^(?=.*\\d{2,})(?=.*[A-Z]).{2,31}$",maxLength:31,required:!0},endAdornment:s.jsx(_,{position:"end",children:s.jsx(C,{"aria-label":"toggle password visibility",onClick:R,onMouseDown:j,edge:"end",children:g?s.jsx(v,{}):s.jsx(y,{})})})})}),f&&s.jsxs(Q,{severity:"error",children:[s.jsx(os,{children:"Error"}),f]})]})]}),s.jsx(H,{type:"submit",variant:"contained",style:{width:"300px",border:"1px solid white",color:"white",backgroundColor:"#00602C"},sx:{":hover":{backgroundColor:"#369E3B"},margin:1},disabled:!E,children:"Bekreft passord"})]})]})},A={Person:"",Password:""},ms=o=>{const t=J(),[r,a]=i.useState(A),[u,d]=i.useState(""),c=(n,l=/$^/)=>{a(w=>({...w,[n.target.name]:n.target.value.replace(l,"")}))},m=(n,l=/$^/)=>{d(n.target.value.replace(l,""))},h=async n=>{},p=async n=>{if(n.preventDefault(),r.Password===u)try{await h(r.Password),a(A),d(""),t("/")}catch{}};return s.jsx(x.Fragment,{children:s.jsxs("div",{id:"login",children:[s.jsx("img",{className:"navbar__img-item",src:K,alt:"Wider√∏e logo"}),s.jsx("div",{id:"login-container",children:s.jsx("form",{children:s.jsx(ts,{formData:r,onPasswordChange:c,onConfirmPasswordChange:m,onSubmit:p,navigate:t})})})]})})};export{ms as default};
