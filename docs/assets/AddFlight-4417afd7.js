import{a as g,u as v,j as a,C as T,B as A,e as N,n as F}from"./index-48719fb3.js";import{d as l,L as p,A as h,D as m}from"./AdapterDayjs-019a3dab.js";import{T as o}from"./TextField-c9ffb765.js";import"./Grid-f367a361.js";import"./InputAdornment-8309b230.js";import"./InputBase-fa14cdb4.js";import"./ListItem-48c532b7.js";import"./OutlinedInput-9006a96c.js";import"./Select-cd0eb243.js";import"./Input-f5ccd189.js";const H=S=>{const[n,d]=g.useState({flightNumber:"",origin:"",departureTime:l(),destination:"",arrivalTime:l(),seatCapacity:0,price:0,airline:""}),[u,x]=g.useState(localStorage.getItem("language")||"no"),t=u==="en"?N.incident:F.incident,C=e=>{x(e),localStorage.setItem("language",e)},r=e=>{const{name:i,value:s}=e.target;d(f=>({...f,[i]:s}))},c=(e,i)=>{i&&d(s=>({...s,[e]:l(i)}))},j=v(),b=async e=>{try{const i=await fetch("https://wideroeemergencynextofkinapi.azure-api.net/WideroeEmergency/api/Flight",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});j("/AddIncident")}catch(i){console.error(i)}},y=()=>{b(n)};return a.jsx(T,{navHeader:t.newFlight,onLanguageChange:C,children:a.jsx("div",{className:"App",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"row",children:[a.jsx(o,{id:"flightNumber",label:t.flight,name:"flightNumber",value:n.flightNumber,onChange:r}),a.jsx(o,{id:"airline",label:t.airline,name:"airline",value:n.airline,onChange:r}),a.jsx(o,{id:"origin",label:t.origin,name:"origin",value:n.origin,onChange:r}),a.jsx(o,{id:"destination",label:t.destination,name:"destination",value:n.destination,onChange:r}),a.jsx(p,{dateAdapter:h,children:a.jsx(m,{label:t.departure,value:n.departureTime,onChange:e=>c("departureTime",(e==null?void 0:e.toDate())??null)})}),a.jsx(p,{dateAdapter:h,children:a.jsx(m,{label:t.arrival,value:n.arrivalTime,onChange:e=>c("arrivalTime",(e==null?void 0:e.toDate())??null)})}),a.jsx(o,{id:"seatCapacity",label:t.seatCapacity,name:"seatCapacity",type:"number",value:n.seatCapacity,onChange:r}),a.jsx(o,{id:"price",label:t.price,name:"price",value:n.price,onChange:r}),a.jsx(A,{onClick:y,style:{backgroundColor:"#369E3B",color:"black",width:"204%"},type:"button",children:t.newFlight})]})})})})};export{H as default};
